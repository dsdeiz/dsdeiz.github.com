<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>fr.ench.info &mdash; Upcoming Events Calendar View in Drupal</title>
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/assets/css/monokai.css" media="screen">

    <!-- you don't need to keep this, but it's cool for stats! -->
    <meta name="generator" content="nanoc 3.4.3"> 
  </head>
  <body>
    <div class="header-container">
      <header class="header">
        <h1><a href="/">fr.ench.info</a></h1>
      </header>
    </div>

    <div class="main-container">
      <div class="main">
        <div class="content">
          
<h1 class="post-title">Upcoming Events Calendar View in Drupal</h1>
<article>
  <small class="meta">
    Posted <time datetime="Nov 4 2010">November 11, 2010</time> on <a href="/tags/drupal" rel="tag">drupal</a>
  </small>
  <section class="post-content">
    <p>Here's what I have when I worked on an Event feature for a site. I first tried the <a href="http://drupal.org/project/event">Event</a> module although it wasn't flexible enough to accomplish some of the things I needed. The modules I finally used (with their specific versions) were:</p>

<ul>
<li><a href="http://drupal.org/project/calendar">Calendar 6.x-2.2</a></li>
<li><a href="http://drupal.org/project/cck">CCK 6.x-2.8</a></li>
<li><a href="http://drupal.org/project/date">Date 6.x-2.6</a></li>
<li><a href="http://drupal.org/project/views">Views 6.x-2.11</a></li>
</ul><p>For my <strong>Event</strong> content type, I just have the usual fields for a node with a <strong>datestamp</strong> as a <em>CCK date field</em>. And for my <strong>Upcoming Events Calendar</strong> view, I simply cloned the <strong>Calendar</strong> view that came with the <strong>Calendar</strong> module and removed some of the displays. It did have an <strong>Upcoming</strong> display although wasn't a calendar view. </p>

<p>The "trick" that I somehow came up was to change the <em>method</em> in the argument <strong>Date: Date (node)</strong> to <strong>AND</strong> rather than <strong>OR</strong> so the query that would come out would somehow look like this <code>...AND ((DATE_FORMAT(FROM_UNIXTIME([date field]), '%Y-%m-%d') &gt;= '2010-11-03') __AND__ ((DATE_FORMAT(FROM_UNIXTIME([date field]), '%Y-%m')...</code> instead of <code>...AND ((DATE_FORMAT(FROM_UNIXTIME([date field]), '%Y-%m-%d') &gt;= '2010-11-03') __OR__ ((DATE_FORMAT(FROM_UNIXTIME([date field]), '%Y-%m')...</code>.</p>

<p><a href="http://dl.dropbox.com/u/24796303/blog/files/events-6.x-1.0.tar">Attached</a> is the exported feature. Cheers! :D</p>
  </section>
</article>

        </div>

        <aside class="sidebar">
          <section class="about-me">
            <h2 class="title">About Me</h2>
            <p>Nothing to see here.</p>
            <ul class="social">
              <li><a target="_blank" href="http://twitter.com/breadpan"><i class="icon-twitter"></i> Twitter</a></li>
              <li><a target="_blank" href="http://github.com/dsdeiz"><i class="icon-github"></i> Github</a></li>
              <li><a target="_blank" href="http://last.fm/user/dsdeiz"><i class="icon-music"></i> Lastfm</a></li>
            </ul>
          </section>

          <section>
            <h2 class="title">Related Articles</h2>

<ul>
  
  <li><a href="/blog/2010-11-04-upcoming-events-calendar-view-in-drupal/">Upcoming Events Calendar View in Drupal</a>
  
  <li><a href="/blog/2010-06-22-bluetrip-css-framework/">BlueTrip CSS Framework</a>
  
  <li><a href="/blog/2011-09-20-using-hook_views_query_alter/">Using hook_views_query_alter</a>
  
  <li><a href="/blog/2012-09-14-Create-Custom-Form-Instead-Of-Altering-Node-Form/">Create Custom Form Instead Of Altering Node Form</a>
  
  <li><a href="/blog/2010-03-18-check-available-variables-in-theming/">Check Available Variables in Theming</a>
  
</ul>


          </section>
        </aside>
      </div>
    </div>

    <div class="footer-container">
      <footer class="footer">
        <section class="view-source">
          <p>View the source for this site <a target="_blank" href="https://github.com/dsdeiz/dsdeiz.github.com">here</a>.</p>
        </section>
        <section class="site-info">
          <p>Site generated with <a target="_blank" href="http://nanoc.stoneship.org/">Nanoc</a> and hosted at <a target="_blank" href="http://github.com/">Github</a>.<br />Images hosted by <a target="_blank" href="http://db.tt/dzLS9TI4">Dropbox</a>.</p>
        </section>
      </footer>
    </div>
  </body>
</html>

